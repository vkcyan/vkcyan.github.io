<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> JavaScript - 面试题 · vkcyan</title><meta name="description" content="JavaScript - 面试题 - vkcyan"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="vkcyan"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">归档</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">简历</a></li><li class="nav-list-item"><a href="https://github.com/vkcyan" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">JavaScript - 面试题</h1><div class="post-info">Mar 24, 2018</div><div class="post-content"><p>#JavaScript - 面试题</p>
<p>这是某天在晚上看到的面试题,感觉挺不错的,于是记录了一下</p>
<p>##判断一个变量时候是null</p>
<p>不可以单纯使用<code>typeof</code>来检测变量是否是对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="literal">null</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> bar === <span class="string">"object"</span>);</span><br><span class="line">&gt;<span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p> 因为null也是对象</p>
<p>那么应该怎么判断呢?</p>
<p>只要清楚这一点，同时检查 <code>bar</code> 是否为 <code>null</code>，就可以很容易地避免问题：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bar = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">var</span> bar = <span class="literal">null</span>;<span class="built_in">console</span>.log(<span class="keyword">typeof</span> bar === <span class="string">"object"</span> &amp;&amp; bar !== <span class="literal">null</span>);</span><br><span class="line">&gt; <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>这里加入变量是 function(){} 怎么办?</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bar = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;<span class="built_in">console</span>.log(<span class="keyword">typeof</span> bar)</span><br><span class="line">&gt; <span class="function"><span class="keyword">function</span></span></span><br><span class="line"><span class="function"><span class="title">var</span> <span class="title">bar</span> = <span class="title">function</span> (<span class="params"></span>) </span>&#123;&#125;;<span class="built_in">console</span>.log(<span class="keyword">typeof</span> bar === <span class="string">"object"</span> &amp;&amp; bar !== <span class="literal">null</span>);</span><br><span class="line">&gt; <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>可以看到 function () {} 类型是function 所以如果想函数返回true的话</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bar = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> bar === <span class="string">"object"</span> || <span class="keyword">typeof</span> bar === <span class="string">'function'</span> &amp;&amp; (bar !== <span class="literal">null</span>));</span><br><span class="line">&gt; <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p> 如果想[] 返回flase 的话</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bar = []</span><br><span class="line"><span class="built_in">console</span>.log((bar !== <span class="literal">null</span>) &amp;&amp; (<span class="keyword">typeof</span> bar === <span class="string">"object"</span>) &amp;&amp; (toString.call(bar) !== <span class="string">"[object Array]"</span>));</span><br><span class="line">&gt; <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<h2 id="下面的代码将输出什么到控制台，为什么？"><a href="#下面的代码将输出什么到控制台，为什么？" class="headerlink" title="下面的代码将输出什么到控制台，为什么？"></a>下面的代码将输出什么到控制台，为什么？</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;  </span><br><span class="line">	<span class="keyword">var</span> a = b = <span class="number">3</span>;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="built_in">console</span>.log((<span class="keyword">typeof</span> a !== <span class="string">'undefined'</span>));<span class="built_in">console</span>.log((<span class="keyword">typeof</span> b !== <span class="string">'undefined'</span>));</span><br></pre></td></tr></table></figure>
<p>可能很多人都会认为是  a b 都是不存在 因为在闭包里面执行</p>
<p>但是事实上</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;  </span><br><span class="line">	<span class="keyword">var</span> a = b = <span class="number">3</span>;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="built_in">console</span>.log((<span class="keyword">typeof</span> a !== <span class="string">'undefined'</span>));<span class="built_in">console</span>.log((<span class="keyword">typeof</span> b !== <span class="string">'undefined'</span>));</span><br><span class="line">&gt; <span class="literal">false</span></span><br><span class="line">&gt; <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>显示b不是不存在的 打印出来是 3 </p>
<p>问题在于 错误的把var a = b = 3 以为成为 &gt; var a = 3 var b = 3</p>
<p>实际上是 b = 3; var a = b</p>
<p> <code>b</code> 最终成为了一个全局变量（因为它没有前缀 <code>var</code> 关键字），因此仍然在范围内甚至封闭函数之外。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="下面的代码将输出什么到控制台，为什么？-1"><a href="#下面的代码将输出什么到控制台，为什么？-1" class="headerlink" title="下面的代码将输出什么到控制台，为什么？"></a><strong>下面的代码将输出什么到控制台，为什么？</strong></h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myObject = &#123;</span><br><span class="line">	foo: <span class="string">"bar"</span>,</span><br><span class="line">	func: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> self = <span class="keyword">this</span>;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">"outer func:  this.foo = "</span> + <span class="keyword">this</span>.foo);</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">"outer func:  self.foo = "</span> + self.foo);</span><br><span class="line">		(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">"inner func:  this.foo = "</span> + <span class="keyword">this</span>.foo);</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">"inner func:  self.foo = "</span> + self.foo);</span><br><span class="line">		&#125;());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line">myObject.func();</span><br></pre></td></tr></table></figure>
<p>上面的代码将输出以下内容到控制台：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">outer func:  this.foo = bar</span><br><span class="line">outer func:  self.foo = bar</span><br><span class="line">inner func:  this.foo = undefined</span><br><span class="line">inner func:  self.foo = bar</span><br></pre></td></tr></table></figure>
<p>​        第一个 第一个 都是指向myObject 没问题 所以都是bar 但是在闭包里面 this 指向 windows 所以出现了undefined</p>
<p>self因为储存了myobject ,顺利打印了bar</p>
<h2 id="4-封装JavaScript源文件的全部内容到一个函数块有什么意义及理由？"><a href="#4-封装JavaScript源文件的全部内容到一个函数块有什么意义及理由？" class="headerlink" title="4.封装JavaScript源文件的全部内容到一个函数块有什么意义及理由？"></a><strong>4.封装JavaScript源文件的全部内容到一个函数块有什么意义及理由？</strong></h2><p>​        这是越来越普遍的做法,被很多流行的JavaScript库 采用,这种技巧创建了一个围绕文件全部内容的<code>闭包</code> , 最终重要的是创建一个私有空间,避免与其他JavaScript库之前潜在的命名冲突</p>
<h2 id="5-在JavaScript源文件的开头包含-use-strict-有什么意义和好处？"><a href="#5-在JavaScript源文件的开头包含-use-strict-有什么意义和好处？" class="headerlink" title="5.在JavaScript源文件的开头包含 use strict 有什么意义和好处？"></a><strong>5.在JavaScript源文件的开头包含 use strict 有什么意义和好处？</strong></h2><p>use strict 是一种JavaScript代码运行时自动实时更加严格的解析和处理错误的方法,通常而言，这是一个很好的做法。</p>
<p>如果没有严格模式，将值分配给一个未声明的变量会自动创建该名称的全局变量。这是JavaScript中最常见的错误之一。</p>
<p>在严格模式下，这样做的话会抛出错误。</p>
<p>消除 <code>this</code> 强制。如果没有严格模式，引用null或未定义的值到 <code>this</code> 值会自动强制到全局变量。这可能会导致许多令人头痛的问题和让人恨不得拔自己头发的bug。在严格模式下，引用 null或未定义的 <code>this</code> 值会抛出错误。</p>
<p>不允许重复的属性名称或参数值。当检测到对象（例如，<code>var object = {foo: &quot;bar&quot;, foo: &quot;baz&quot;};</code>）中重复命名的属性，或检测到函数中（例如，<code>function foo(val1, val2, val1){}</code>）重复命名的参数时，严格模式会抛出错误，因此捕捉几乎可以肯定是代码中的bug可以避免浪费大量的跟踪时间。</p>
<h2 id="6-考虑以下两个函数。它们会返回相同的东西吗？-为什么相同或为什么不相同？"><a href="#6-考虑以下两个函数。它们会返回相同的东西吗？-为什么相同或为什么不相同？" class="headerlink" title="6.考虑以下两个函数。它们会返回相同的东西吗？ 为什么相同或为什么不相同？"></a><strong>6.考虑以下两个函数。它们会返回相同的东西吗？ 为什么相同或为什么不相同？</strong></h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo1</span> (<span class="params"></span>) </span>&#123;  </span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    bar: <span class="string">"hello"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo2</span> (<span class="params"></span>) </span>&#123;  </span><br><span class="line">  <span class="keyword">return</span></span><br><span class="line">&#123;</span><br><span class="line">    bar: <span class="string">"hello"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(foo1());</span><br><span class="line"><span class="built_in">console</span>.log(foo2());</span><br></pre></td></tr></table></figure>
<p>打印出来的结果是</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; &#123;<span class="attr">bar</span>: <span class="string">"hello"</span>&#125;</span><br><span class="line">&gt; <span class="literal">undefined</span></span><br></pre></td></tr></table></figure>
<p>很诧异 为什么第二是undefined 也没有抛出错误</p>
<p>原因是因为这个和JavaScript 运行机制有关 foo2() 遇到只有return的代码行 之后 会立即插入分号</p>
<p>代码就成了这样</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo1</span> (<span class="params"></span>) </span>&#123;  </span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    bar: <span class="string">"hello"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo2</span> (<span class="params"></span>) </span>&#123;  </span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>所以foo2()就成了undefined</p>
<h2 id="7-NaN-是什么？它的类型是什么？你如何可靠地测试一个值是否等于-NaN-？"><a href="#7-NaN-是什么？它的类型是什么？你如何可靠地测试一个值是否等于-NaN-？" class="headerlink" title="7. NaN 是什么？它的类型是什么？你如何可靠地测试一个值是否等于 NaN ？"></a><strong>7. NaN 是什么？它的类型是什么？你如何可靠地测试一个值是否等于 NaN ？</strong></h2><p><code>NaN</code>表示一个<code>不是数字</code>的值,这个特殊的值是因为运算不能执行导致,不能执行的原因要么是因为是其中的运算对象之非数字(“abc/*4”)  要么就是因为运算的结果非数字 (整数/0)</p>
<p>NaN类型是<code>number</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">NaN</span> === <span class="string">"number"</span>);</span><br><span class="line">&gt; <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>比较可靠的判断方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Number.isNaN(NaN)</span><br><span class="line">&gt; true</span><br></pre></td></tr></table></figure>
<h2 id="8-实现函数-isInteger-x-来判断-x-是否是整数"><a href="#8-实现函数-isInteger-x-来判断-x-是否是整数" class="headerlink" title="8.**实现函数 isInteger(x) 来判断 x 是否是整数**"></a><strong>8.**</strong>实现函数 isInteger(x) 来判断 x 是否是整数**</h2><p>这个的方法很多 首先 使用 Math的.round()这样的方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function isInteger(x) &#123;</span><br><span class="line">    return Math.round(x) === x</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>还要比较高的方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function isInteger(x) &#123;</span><br><span class="line">	return (x^0) === x</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>不可以使用paeseInt 详情见 <a href="http://www.cnblogs.com/wuvkcyan/p/8899250.html" target="_blank" rel="noopener">http://www.cnblogs.com/wuvkcyan/p/8899250.html</a></p>
<h2 id="9-下列代码将输出什么？并解释原因。"><a href="#9-下列代码将输出什么？并解释原因。" class="headerlink" title="9.下列代码将输出什么？并解释原因。"></a><strong>9.下列代码将输出什么？并解释原因。</strong></h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">0.1</span> + <span class="number">0.2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0.1</span> + <span class="number">0.2</span> == <span class="number">0.3</span>);</span><br><span class="line">&gt; <span class="number">0.30000000000000004</span></span><br><span class="line">&gt; <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>JavaScript中的数字和浮点精度的处理相同，因此，可能不会总是产生预期的结果。</p>
<h2 id="10-下列代码行1-4如何排序，使之能够在执行代码时输出到控制台？-为什么？"><a href="#10-下列代码行1-4如何排序，使之能够在执行代码时输出到控制台？-为什么？" class="headerlink" title="10.下列代码行1-4如何排序，使之能够在执行代码时输出到控制台？ 为什么？"></a><strong>10.下列代码行1-4如何排序，使之能够在执行代码时输出到控制台？ 为什么？</strong></h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;    </span><br><span class="line">	<span class="built_in">console</span>.log(<span class="number">1</span>); </span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">	&#125;, <span class="number">1000</span>); </span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">    &#125;, <span class="number">0</span>); </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">4</span>);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
<p>结果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">4</span><br><span class="line"></span><br><span class="line">3</span><br><span class="line">2</span><br></pre></td></tr></table></figure>
<p>因为 </p>
<p>1 4 首先打印 没有什么文图 就是简单调用 console.log 2 在 3 后面是因为 2 延迟了1000 3 是0毫秒输出 </p>
<p>既然3是0毫秒输出为什么在 14 后面呢 </p>
<p>要回答这么问题 需要正确理解 JavaScript的事件和时间的设置</p>
<p>浏览器有一个时间循环 会检查事件队列和未处理事件,例如,例入事件发生在后台(例如脚本的loadl事件),浏览器正忙(例如click事件),那么事件会添加到到队列,当onclick时间接触 检查队列,然后处理该事件,setTimeout会将其引用的函数放入事件队列,</p>
<p>当<code>setTimeout()</code>的第二个参数为0的时候，它的意思是“尽快”执行指定的函数。具体而言，函数的执行会放置在事件队列的下一个计时器开始。但是请注意，这不是立即执行：函数不会被执行除非下一个计时器开始。这就是为什么在上述的例子中，调用 <code>console.log(4)</code> 发生在调用 <code>console.log(3)</code> 之前（因为调用 <code>console.log(3)</code> 是通过setTimeout被调用的，因此会稍微延迟）。</p>
</div></article></div></main><footer><div class="paginator"><a href="/2018/04/10/js面试题 4-10 /" class="prev">上一篇</a><a href="/2018/03/02/mysql主键归零/" class="next">下一篇</a></div><div class="copyright"><p>© 2018 <a href="http://yoursite.com">vkcyan</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>