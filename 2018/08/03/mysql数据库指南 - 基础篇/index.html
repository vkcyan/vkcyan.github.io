<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="mysql," />










<meta name="description" content="DDL – Data Definition Language 数据库定义语言查询当前所有数据库1show databases; 进入/切换数据库1use base; 创建数据库1create database base; 删除数据库1drop database base; mysql数据库表的数据类型也就是创建表的时候的数据类型  int: 整形 使用场景: 用于储存数值   double: 浮点">
<meta name="keywords" content="mysql">
<meta property="og:type" content="article">
<meta property="og:title" content="mysql使用指南 - 基础篇">
<meta property="og:url" content="http://yoursite.com/2018/08/03/mysql数据库指南 - 基础篇/index.html">
<meta property="og:site_name" content="vkcyan">
<meta property="og:description" content="DDL – Data Definition Language 数据库定义语言查询当前所有数据库1show databases; 进入/切换数据库1use base; 创建数据库1create database base; 删除数据库1drop database base; mysql数据库表的数据类型也就是创建表的时候的数据类型  int: 整形 使用场景: 用于储存数值   double: 浮点">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-08-03T11:52:08.727Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="mysql使用指南 - 基础篇">
<meta name="twitter:description" content="DDL – Data Definition Language 数据库定义语言查询当前所有数据库1show databases; 进入/切换数据库1use base; 创建数据库1create database base; 删除数据库1drop database base; mysql数据库表的数据类型也就是创建表的时候的数据类型  int: 整形 使用场景: 用于储存数值   double: 浮点">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/08/03/mysql数据库指南 - 基础篇/"/>





  <title>mysql使用指南 - 基础篇 | vkcyan</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?03823422b1f29a7b653557853acaae60";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">vkcyan</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">this is my life</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/03/mysql数据库指南 - 基础篇/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="vkcyan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://on7r0tqgu.bkt.clouddn.com/FtYgVsDgctT0KkcTOIF8bmSJ5aPi.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="vkcyan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">mysql使用指南 - 基础篇</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-03T00:00:00+08:00">
                2018-08-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/数据库/" itemprop="url" rel="index">
                    <span itemprop="name">数据库</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/08/03/mysql数据库指南 - 基础篇/" class="leancloud_visitors" data-flag-title="mysql使用指南 - 基础篇">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="DDL-–-Data-Definition-Language-数据库定义语言"><a href="#DDL-–-Data-Definition-Language-数据库定义语言" class="headerlink" title="DDL – Data Definition Language 数据库定义语言"></a>DDL – Data Definition Language 数据库定义语言</h2><h5 id="查询当前所有数据库"><a href="#查询当前所有数据库" class="headerlink" title="查询当前所有数据库"></a>查询当前所有数据库</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">databases</span>;</span><br></pre></td></tr></table></figure>
<h5 id="进入-切换数据库"><a href="#进入-切换数据库" class="headerlink" title="进入/切换数据库"></a>进入/切换数据库</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use base;</span><br></pre></td></tr></table></figure>
<h5 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create database base;</span><br></pre></td></tr></table></figure>
<h5 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop database base;</span><br></pre></td></tr></table></figure>
<h3 id="mysql数据库表的数据类型"><a href="#mysql数据库表的数据类型" class="headerlink" title="mysql数据库表的数据类型"></a>mysql数据库表的数据类型</h3><p>也就是创建表的时候的数据类型</p>
<blockquote>
<p><strong>int</strong>: 整形</p>
<p>使用场景: 用于储存数值</p>
</blockquote>
<blockquote>
<p><strong>double</strong>: 浮点型 例如 double(5,2) 表示最多五位数 其中必须两位小数,及最大值为999.99</p>
<p>使用场景: 用于储存小数类型的值</p>
</blockquote>
<blockquote>
<p><strong>decimal</strong>: 浮点型,多用于在表示金额上使用的类型,因为不会出现进度丢失</p>
<p>使用场景: 储存精细数据</p>
</blockquote>
<blockquote>
<p><strong>char</strong>: 固定长度字符串类型 char(255) 长度不足补足到指定长度 过长报错</p>
<p>使用场景: 储存长度不变的数据 例如 身份证号 手机号 等等</p>
</blockquote>
<blockquote>
<p><strong>varchar</strong>: 可变长度字符串类型 varchar(65535) </p>
<p>使用场景: 变化的数据 (会在查询的时候 使用长度去记录长度值,所以会浪费性能,所以固长性能更好) </p>
</blockquote>
<p>mysql独有的数据类型</p>
<blockquote>
<p>text: 存储可变的文本信息 例如小说</p>
<p> blob: 存储可变的二进制类型  例如图片转二进制存储</p>
</blockquote>
<h3 id="表的使用命令"><a href="#表的使用命令" class="headerlink" title="表的使用命令"></a>表的使用命令</h3><h5 id="查看当前数据库的表"><a href="#查看当前数据库的表" class="headerlink" title="查看当前数据库的表"></a>查看当前数据库的表</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show tables;</span><br></pre></td></tr></table></figure>
<h5 id="创建表"><a href="#创建表" class="headerlink" title="创建表"></a>创建表</h5><p>首先进入指定需要创建表数据库</p>
<blockquote>
<p>创建一个 名叫mytable的表 </p>
<p>表结构为:</p>
<ul>
<li>字段为定长11字节的number储存学号</li>
<li>字段为变长20字节的name 储蓄姓名</li>
<li>字段为int的age 储蓄年龄</li>
<li>字段为变长10字节的sex 储蓄性别</li>
</ul>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> base;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> mytable (</span><br><span class="line">    <span class="built_in">number</span> <span class="built_in">char</span>(<span class="number">11</span>),</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>),</span><br><span class="line">    age <span class="built_in">int</span>,</span><br><span class="line">    sex <span class="built_in">varchar</span>(<span class="number">10</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h5 id="查看表的建表语句"><a href="#查看表的建表语句" class="headerlink" title="查看表的建表语句"></a>查看表的建表语句</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> mytable</span><br></pre></td></tr></table></figure>
<h5 id="查询表结构"><a href="#查询表结构" class="headerlink" title="查询表结构"></a>查询表结构</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">desc mytable;</span><br></pre></td></tr></table></figure>
<h5 id="删除表"><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop table mytable;</span><br></pre></td></tr></table></figure>
<h3 id="修改表"><a href="#修改表" class="headerlink" title="修改表"></a>修改表</h3><blockquote>
<p><strong>注意: 所有的修改表操作 命令前面都是 alter table 表名</strong></p>
<p>这里还是很语义化的 alter 意为改变 modify意为修改</p>
</blockquote>
<h5 id="修改-–-给现有的表添加一列-字段"><a href="#修改-–-给现有的表添加一列-字段" class="headerlink" title="修改 – 给现有的表添加一列(字段)"></a>修改 – 给现有的表添加一列(字段)</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> mytable <span class="keyword">add</span>(</span><br><span class="line">	education <span class="built_in">varchar</span>(<span class="number">50</span>)</span><br><span class="line">);</span><br><span class="line">//修改表mytable 添加字段education指定类型为varchar(50)</span><br></pre></td></tr></table></figure>
<h5 id="修改-–-给现有的表修改列-字段-类型"><a href="#修改-–-给现有的表修改列-字段-类型" class="headerlink" title="修改 – 给现有的表修改列(字段)类型"></a>修改 – 给现有的表修改列(字段)类型</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> mytable <span class="keyword">modify</span> education <span class="built_in">varchar</span>(<span class="number">20</span>);</span><br></pre></td></tr></table></figure>
<h5 id="修改-–-删除指定的列-字段"><a href="#修改-–-删除指定的列-字段" class="headerlink" title="修改 – 删除指定的列(字段)"></a>修改 – 删除指定的列(字段)</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> mytable <span class="keyword">drop</span> education;</span><br></pre></td></tr></table></figure>
<h5 id="修改-–-修改表名称"><a href="#修改-–-修改表名称" class="headerlink" title="修改 – 修改表名称"></a>修改 – 修改表名称</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> mytable <span class="keyword">rename</span> <span class="keyword">to</span> <span class="keyword">tables</span>;</span><br></pre></td></tr></table></figure>
<h5 id="修改-–-数据库编码"><a href="#修改-–-数据库编码" class="headerlink" title="修改 – 数据库编码"></a>修改 – 数据库编码</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">database</span> dase <span class="built_in">character</span> <span class="keyword">set</span> utf8;</span><br></pre></td></tr></table></figure>
<h2 id="DML-–-Data-Manipulation-Language-数据操纵语言"><a href="#DML-–-Data-Manipulation-Language-数据操纵语言" class="headerlink" title="DML – Data Manipulation Language 数据操纵语言"></a>DML – Data Manipulation Language 数据操纵语言</h2><h5 id="插入数据"><a href="#插入数据" class="headerlink" title="插入数据"></a>插入数据</h5><p>在数据里面所有的字符串类型必须是<strong>单引号</strong></p>
<blockquote>
<p>格式 insert into tables(? , ? , ? ,?) values(‘?’ , ‘?’ , ? , ‘?’ );</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">tables</span>(<span class="built_in">number</span>,<span class="keyword">name</span>,age,sex) <span class="keyword">values</span>(<span class="string">'0000001'</span>,<span class="string">'zhangsan'</span>,<span class="number">18</span>,<span class="string">'man'</span>);</span><br></pre></td></tr></table></figure>
<p>插入部分列 – 表格允许的空值的情况下</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">tables</span>(<span class="built_in">number</span>,<span class="keyword">name</span>) <span class="keyword">values</span>(<span class="string">'0000002'</span>,<span class="string">'lisi'</span>);</span><br></pre></td></tr></table></figure>
<p>不给出插入列 - 默认插入所有列</p>
<blockquote>
<p>insert into tables values( ‘?’ , ‘?’ , ?, ‘?’ );</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">tables</span> <span class="keyword">values</span>(<span class="string">'0000003'</span>,<span class="string">'xiaosan'</span>,<span class="number">29</span>,<span class="string">'woman'</span>);</span><br></pre></td></tr></table></figure>
<h5 id="修改数据"><a href="#修改数据" class="headerlink" title="修改数据"></a>修改数据</h5><blockquote>
<p>这样不指定条件的修改会将表里面的所有字段为age都变成了20 千万注意不能不指定条件</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> <span class="keyword">tables</span> <span class="keyword">set</span> age=<span class="number">20</span>;</span><br></pre></td></tr></table></figure>
<p>更新 number为000001的 age 变成30</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> <span class="keyword">tables</span> <span class="keyword">set</span> age=<span class="number">30</span> <span class="keyword">where</span> <span class="built_in">number</span>=<span class="string">'0000001'</span>;</span><br></pre></td></tr></table></figure>
<p>更新 number为0000002 或者 name 为xiaosan 的 sex为 woman</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> <span class="keyword">tables</span> <span class="keyword">set</span> sex=<span class="string">'woman'</span> <span class="keyword">where</span> <span class="built_in">number</span>=<span class="string">'0000002'</span> <span class="keyword">or</span> <span class="keyword">name</span>=<span class="string">'xiaosan'</span>;</span><br></pre></td></tr></table></figure>
<p>更新 age在15 到 48之间的 age+1</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> <span class="keyword">tables</span> <span class="keyword">set</span> age=age+<span class="number">1</span> <span class="keyword">where</span> age &gt; <span class="number">15</span> <span class="keyword">and</span> age &lt; <span class="number">48</span>;</span><br></pre></td></tr></table></figure>
<p>更新 age 在15(包括) 到40(包括)之间的 age+1</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> <span class="keyword">tables</span> <span class="keyword">set</span> age=age+<span class="number">1</span> <span class="keyword">where</span> age <span class="keyword">between</span> <span class="number">15</span> <span class="keyword">and</span> <span class="number">40</span>;</span><br></pre></td></tr></table></figure>
<p>使用<strong>in</strong>语法实现多数据改动</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> <span class="keyword">tables</span> <span class="keyword">set</span> age=<span class="number">36</span> <span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">in</span>(<span class="string">'lisi'</span>,<span class="string">'xiaosan'</span>);</span><br></pre></td></tr></table></figure>
<p>针对表中数据为null,应该如何更改</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">update</span> <span class="keyword">tables</span> <span class="keyword">set</span> age=<span class="number">30</span> <span class="keyword">where</span> age=<span class="literal">null</span>;        //这样是错误的 因为age=null会返回false!!</span><br><span class="line"><span class="comment">--------------------------------------------</span></span><br><span class="line"> <span class="keyword">update</span> <span class="keyword">tables</span> <span class="keyword">set</span> age=<span class="number">30</span> <span class="keyword">where</span> age <span class="keyword">is</span> <span class="literal">null</span>;	 //is 判断才是正确的</span><br></pre></td></tr></table></figure>
<h5 id="删除数据"><a href="#删除数据" class="headerlink" title="删除数据"></a>删除数据</h5><p>删除表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="keyword">tables</span>;</span><br></pre></td></tr></table></figure>
<p>删除表列</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="keyword">tables</span> <span class="keyword">where</span> age=<span class="number">29</span>;</span><br></pre></td></tr></table></figure>
<h2 id="DCL-–-Data-Control-Language-数据库控制语言"><a href="#DCL-–-Data-Control-Language-数据库控制语言" class="headerlink" title="DCL – Data Control Language 数据库控制语言"></a>DCL – Data Control Language 数据库控制语言</h2><h5 id="创建用户"><a href="#创建用户" class="headerlink" title="创建用户"></a>创建用户</h5><blockquote>
<p>创建用户vkcyan密码为000000指定只能通过localhost登录</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> vkcyan@localhost <span class="keyword">identified</span> <span class="keyword">by</span> <span class="string">'000000'</span>;</span><br></pre></td></tr></table></figure>
<h5 id="用户授权"><a href="#用户授权" class="headerlink" title="用户授权"></a>用户授权</h5><blockquote>
<p>将base这个数据库里面的所有表的所有权限都给用户vkcyan</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> all <span class="keyword">on</span> base.* <span class="keyword">to</span> vkcyan@localhost;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>权限有很多 create alter drop insert update delete select </p>
</blockquote>
<h5 id="取消授权"><a href="#取消授权" class="headerlink" title="取消授权"></a>取消授权</h5><blockquote>
<p>取消vkcyan用户的 base数据库下所有表的删除权限</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">revoke</span> <span class="keyword">delete</span> <span class="keyword">on</span> base.* <span class="keyword">from</span> vkcyan@localhost;</span><br></pre></td></tr></table></figure>
<h5 id="查看用户权限"><a href="#查看用户权限" class="headerlink" title="查看用户权限"></a>查看用户权限</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">grants</span> <span class="keyword">for</span> vkcyan@localhost;</span><br></pre></td></tr></table></figure>
<h5 id="删除用户"><a href="#删除用户" class="headerlink" title="删除用户"></a>删除用户</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">user</span> vkcyan@localhost;</span><br></pre></td></tr></table></figure>
<h2 id="DQL-–-Data-Query-Language-数据查询语言DQL"><a href="#DQL-–-Data-Query-Language-数据查询语言DQL" class="headerlink" title="DQL –  Data Query Language 数据查询语言DQL"></a>DQL –  Data Query Language 数据查询语言DQL</h2><h5 id="查询数据"><a href="#查询数据" class="headerlink" title="查询数据"></a>查询数据</h5><blockquote>
<ul>
<li>代表查询全部 </li>
</ul>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>可以指定查询的列</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> ename,comm <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>查询数据去除相同的行   <code>distinct关键字为去除重复数据</code></p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> comm <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>
<h5 id="列运算-数字"><a href="#列运算-数字" class="headerlink" title="列运算 - 数字"></a>列运算 - 数字</h5><blockquote>
<p> 查询emp表的所有信息 并且查询sal列数据*1.5 的数据  </p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select sal,sal*1.5 from emp;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>假如是无法运算的值,会将数据按0处理</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">select ename,ename+100 from emp;</span><br><span class="line"></span><br><span class="line">+--------+-----------+</span><br><span class="line">| ename  | ename+100 |</span><br><span class="line">+--------+-----------+</span><br><span class="line">| 甘宁   |       100 |</span><br><span class="line">| 黛绮丝 |       100 |</span><br><span class="line">| 殷天正 |       100 |</span><br><span class="line">| 刘备   |       100 |</span><br><span class="line">| 谢逊   |       100 |</span><br><span class="line">| 关羽   |       100 |</span><br><span class="line">| 张飞   |       100 |</span><br><span class="line">| 诸葛亮 |       100 |</span><br><span class="line">| 曾阿牛 |       100 |</span><br><span class="line">| 韦一笑 |       100 |</span><br><span class="line">| 周泰   |       100 |</span><br><span class="line">| 程普   |       100 |</span><br><span class="line">| 庞统   |       100 |</span><br><span class="line">| 黄盖   |       100 |</span><br><span class="line">+--------+-----------+</span><br></pre></td></tr></table></figure>
<blockquote>
<p> 列与列相加 这里注意 假如相加字段里面有null运算结果会变成null</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> sal,comm,sal+comm <span class="keyword">from</span> emp;  //错误写法</span><br><span class="line">+<span class="comment">----------+----------+----------+</span></span><br><span class="line">| sal      | comm     | sal+comm |</span><br><span class="line">+<span class="comment">----------+----------+----------+</span></span><br><span class="line">|  8000.00 |     NULL |     NULL |</span><br><span class="line">| 16000.00 |  3000.00 | 19000.00 |</span><br><span class="line">| 12500.00 |  5000.00 | 17500.00 |</span><br><span class="line">| 29750.00 |     NULL |     NULL |</span><br><span class="line">| 12500.00 | 14000.00 | 26500.00 |</span><br><span class="line">| 28500.00 |     NULL |     NULL |</span><br><span class="line">| 24500.00 |     NULL |     NULL |</span><br><span class="line">| 30000.00 |     NULL |     NULL |</span><br><span class="line">| 50000.00 |     NULL |     NULL |</span><br><span class="line">| 15000.00 |     0.00 | 15000.00 |</span><br><span class="line">| 11000.00 |     NULL |     NULL |</span><br><span class="line">|  9500.00 |     NULL |     NULL |</span><br><span class="line">| 30000.00 |     NULL |     NULL |</span><br><span class="line">| 13000.00 |     NULL |     NULL |</span><br><span class="line">+<span class="comment">----------+----------+----------+</span></span><br><span class="line">//可以使用ifnull去处理null的数值</span><br><span class="line">mysql&gt; select sal,comm,sal+ifnull(comm,0) from emp;</span><br><span class="line">+<span class="comment">----------+----------+--------------------+</span></span><br><span class="line">| sal      | comm     | sal+ifnull(comm,0) |</span><br><span class="line">+<span class="comment">----------+----------+--------------------+</span></span><br><span class="line">|  8000.00 |     NULL |            8000.00 |</span><br><span class="line">| 16000.00 |  3000.00 |           19000.00 |</span><br><span class="line">| 12500.00 |  5000.00 |           17500.00 |</span><br><span class="line">| 29750.00 |     NULL |           29750.00 |</span><br><span class="line">| 12500.00 | 14000.00 |           26500.00 |</span><br><span class="line">| 28500.00 |     NULL |           28500.00 |</span><br><span class="line">| 24500.00 |     NULL |           24500.00 |</span><br><span class="line">| 30000.00 |     NULL |           30000.00 |</span><br><span class="line">| 50000.00 |     NULL |           50000.00 |</span><br><span class="line">| 15000.00 |     0.00 |           15000.00 |</span><br><span class="line">| 11000.00 |     NULL |           11000.00 |</span><br><span class="line">|  9500.00 |     NULL |            9500.00 |</span><br><span class="line">| 30000.00 |     NULL |           30000.00 |</span><br><span class="line">| 13000.00 |     NULL |           13000.00 |</span><br><span class="line">+<span class="comment">----------+----------+--------------------+</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>查询字段将null替换成任意值</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select ename,ifnull(mgr,'boss')from emp;</span><br><span class="line">+<span class="comment">--------+--------------------+</span></span><br><span class="line">| ename  | ifnull(mgr,'boss') |</span><br><span class="line">+<span class="comment">--------+--------------------+</span></span><br><span class="line">| 甘宁   | 1013               |</span><br><span class="line">| 黛绮丝 | 1006               |</span><br><span class="line">| 殷天正 | 1006               |</span><br><span class="line">| 刘备   | 1009               |</span><br><span class="line">| 谢逊   | 1006               |</span><br><span class="line">| 关羽   | 1009               |</span><br><span class="line">| 张飞   | 1009               |</span><br><span class="line">| 诸葛亮 | 1004               |</span><br><span class="line">| 曾阿牛 | boss               |</span><br><span class="line">| 韦一笑 | 1006               |</span><br><span class="line">| 周泰   | 1008               |</span><br><span class="line">| 程普   | 1006               |</span><br><span class="line">| 庞统   | 1004               |</span><br><span class="line">| 黄盖   | 1007               |</span><br><span class="line">+<span class="comment">--------+--------------------+</span></span><br></pre></td></tr></table></figure>
<h5 id="列运算-文字"><a href="#列运算-文字" class="headerlink" title="列运算 - 文字"></a>列运算 - 文字</h5><blockquote>
<p> concat 连接字符串</p>
<p>as 起别名</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select concat ('我叫',ename,' ,我的工作是',job,',我的工资是',sal) as '描述' from emp;</span><br><span class="line">+<span class="comment">-------------------------------------------------+</span></span><br><span class="line">| 描述                                            |</span><br><span class="line">+<span class="comment">-------------------------------------------------+</span></span><br><span class="line">| 我叫甘宁 ,我的工作是文员,我的工资是8000.00      |</span><br><span class="line">| 我叫黛绮丝 ,我的工作是销售员,我的工资是16000.00 |</span><br><span class="line">| 我叫殷天正 ,我的工作是销售员,我的工资是12500.00 |</span><br><span class="line">| 我叫刘备 ,我的工作是经理,我的工资是29750.00     |</span><br><span class="line">| 我叫谢逊 ,我的工作是销售员,我的工资是12500.00   |</span><br><span class="line">| 我叫关羽 ,我的工作是经理,我的工资是28500.00     |</span><br><span class="line">| 我叫张飞 ,我的工作是经理,我的工资是24500.00     |</span><br><span class="line">| 我叫诸葛亮 ,我的工作是分析师,我的工资是30000.00 |</span><br><span class="line">| 我叫曾阿牛 ,我的工作是董事长,我的工资是50000.00 |</span><br><span class="line">| 我叫韦一笑 ,我的工作是销售员,我的工资是15000.00 |</span><br><span class="line">| 我叫周泰 ,我的工作是文员,我的工资是11000.00     |</span><br><span class="line">| 我叫程普 ,我的工作是文员,我的工资是9500.00      |</span><br><span class="line">| 我叫庞统 ,我的工作是分析师,我的工资是30000.00   |</span><br><span class="line">| 我叫黄盖 ,我的工作是文员,我的工资是13000.00     |</span><br><span class="line">+<span class="comment">-------------------------------------------------+</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>其别名 as   要注意! 一般情况下 as 省略也可以运行</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select ename as 姓名,job as 工作 from emp;</span><br><span class="line">+<span class="comment">--------+--------+</span></span><br><span class="line">| 姓名   | 工作   |</span><br><span class="line">+<span class="comment">--------+--------+</span></span><br><span class="line">| 甘宁   | 文员   |</span><br><span class="line">| 黛绮丝 | 销售员 |</span><br><span class="line">| 殷天正 | 销售员 |</span><br><span class="line">| 程普   | 文员   |</span><br><span class="line">| 庞统   | 分析师 |</span><br><span class="line">| 黄盖   | 文员   |</span><br><span class="line">+<span class="comment">--------+--------+</span></span><br><span class="line">mysql&gt; select ename 姓名,job 工作 from emp;</span><br><span class="line">+<span class="comment">--------+--------+</span></span><br><span class="line">| 姓名   | 工作   |</span><br><span class="line">+<span class="comment">--------+--------+</span></span><br><span class="line">| 甘宁   | 文员   |</span><br><span class="line">| 黛绮丝 | 销售员 |</span><br><span class="line">| 殷天正 | 销售员 |</span><br><span class="line">| 程普   | 文员   |</span><br><span class="line">| 庞统   | 分析师 |</span><br><span class="line">| 黄盖   | 文员   |</span><br><span class="line">+<span class="comment">--------+--------+</span></span><br></pre></td></tr></table></figure>
<h5 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h5><blockquote>
<p>查询sal字段大于20000的</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> sal&gt;<span class="number">20000</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>查询comm字段不为null的</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> comm <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>查询sal找20000到30000之间的</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from emp where sal between 20000 and 30000;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>查询是字段job 是经理和分析师的</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from emp where job in (&apos;经理&apos;,&apos;分析师&apos;);</span><br></pre></td></tr></table></figure>
<p>模糊查询</p>
<blockquote>
<p>查询姓张的两个字的</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">'张_'</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>查询名字是两个字的  //下划线表示匹配1个字符</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">'__'</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>查询以job列某个字符结尾的指定列  //%表示匹配多个字符</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * from emp where job like &apos;%员&apos;;</span><br><span class="line">select * from emp where job like &apos;%&apos;;</span><br></pre></td></tr></table></figure>
<h5 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h5><blockquote>
<p>按指定字段排序(默认升序)</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> sal;</span><br><span class="line">//在emp表里面 按 order 来进行排序</span><br></pre></td></tr></table></figure>
<blockquote>
<p>升序</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> sal <span class="keyword">asc</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>降序</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> sal <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>假如一列比较相同的情况下 可以在进行比较</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> sal <span class="keyword">asc</span>,comm <span class="keyword">desc</span>;</span><br><span class="line">//假如sal字段相同就降序比较comm字段</span><br></pre></td></tr></table></figure>
<h5 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h5><blockquote>
<p>算出一列的有效行数遇到null就跳过</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(*) <span class="keyword">from</span> emp;</span><br><span class="line">+<span class="comment">----------+</span></span><br><span class="line">| count(*) |</span><br><span class="line">+<span class="comment">----------+</span></span><br><span class="line">|       14 |</span><br><span class="line">+<span class="comment">----------+</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>算出一列的值 遇到null会跳过</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select sum(sal) from emp;</span><br><span class="line">+-----------+</span><br><span class="line">| sum(sal)  |</span><br><span class="line">+-----------+</span><br><span class="line">| 290250.00 |</span><br><span class="line">+-----------+</span><br></pre></td></tr></table></figure>
<blockquote>
<p>算出一列的最大值</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select max(sal) from emp;</span><br><span class="line">+<span class="comment">----------+</span></span><br><span class="line">| max(sal) |</span><br><span class="line">+<span class="comment">----------+</span></span><br><span class="line">| 50000.00 |</span><br><span class="line">+<span class="comment">----------+</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>算出一列的最小值</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select min(sal) from emp;</span><br><span class="line">+<span class="comment">----------+</span></span><br><span class="line">| min(sal) |</span><br><span class="line">+<span class="comment">----------+</span></span><br><span class="line">|  8000.00 |</span><br><span class="line">+<span class="comment">----------+</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>算出平均值</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select avg(sal) from emp;</span><br><span class="line">+<span class="comment">--------------+</span></span><br><span class="line">| avg(sal)     |</span><br><span class="line">+<span class="comment">--------------+</span></span><br><span class="line">| 20732.142857 |</span><br><span class="line">+<span class="comment">--------------+</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>使用 as 拼接</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select count(*) as 人数,sum(sal) as 工资总和,max(sal) as 最高工资,min(sal) as 最低工资,</span><br><span class="line">avg(sal) as 平均工资 from emp;</span><br><span class="line">+<span class="comment">------+-----------+----------+----------+--------------+</span></span><br><span class="line">| 人数 | 工资总和  | 最高工资 | 最低工资 | 平均工资     	 |</span><br><span class="line">+<span class="comment">------+-----------+----------+----------+--------------+</span></span><br><span class="line">|   14 | 290250.00 | 50000.00 |  8000.00 | 20732.142857 |</span><br><span class="line">+<span class="comment">------+-----------+----------+----------+--------------+</span></span><br></pre></td></tr></table></figure>
<h5 id="分组查询"><a href="#分组查询" class="headerlink" title="分组查询"></a>分组查询</h5><blockquote>
<p>查询个职位的数量,以及最高工资  这里注意除了分组列 其他都是聚合函数</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> job,<span class="keyword">count</span>(*),<span class="keyword">max</span>(sal) <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> job;</span><br><span class="line">+<span class="comment">--------+----------+----------+</span></span><br><span class="line">| job    | count(*) | max(sal) |</span><br><span class="line">+<span class="comment">--------+----------+----------+</span></span><br><span class="line">| 分析师 |        2 | 30000.00 |</span><br><span class="line">| 文员   |        4 | 13000.00 |</span><br><span class="line">| 经理   |        3 | 29750.00 |</span><br><span class="line">| 董事长 |        1 | 50000.00 |</span><br><span class="line">| 销售员 |        4 | 16000.00 |</span><br><span class="line">+<span class="comment">--------+----------+----------+</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>按组查询emp表 deptnn字段  sal大于1500的全部数量,并按组分好</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select deptno,count(*) from emp where sal&gt;15000 group by deptno;</span><br><span class="line">+<span class="comment">--------+----------+</span></span><br><span class="line">| deptno | count(*) |</span><br><span class="line">+<span class="comment">--------+----------+</span></span><br><span class="line">|     10 |        2 |</span><br><span class="line">|     20 |        3 |</span><br><span class="line">|     30 |        2 |</span><br><span class="line">+<span class="comment">--------+----------+</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p> 按组查询emp表 deptnn字段  sal大于1500的全部数量,并按组分好 分好后把大于2的留下</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select deptno,count(*) from emp where sal&gt;15000 group by deptno having count(*)&gt;2;</span><br><span class="line">+<span class="comment">--------+----------+</span></span><br><span class="line">| deptno | count(*) |</span><br><span class="line">+<span class="comment">--------+----------+</span></span><br><span class="line">|     20 |        3 |</span><br><span class="line">+<span class="comment">--------+----------+</span></span><br></pre></td></tr></table></figure>
<h5 id="limit子句-方言"><a href="#limit子句-方言" class="headerlink" title="limit子句(方言)"></a>limit子句(方言)</h5><blockquote>
<p>主要用于分页  limit 0,5 从0开始打印5行数据</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from emp limit 0,5;                                             </span><br><span class="line">+<span class="comment">-------+--------+--------+------+------------+----------+----------+--------+  </span></span><br><span class="line">| empno | ename  | job    | mgr  | hiredate   | sal      | COMM     | deptno |  </span><br><span class="line">+<span class="comment">-------+--------+--------+------+------------+----------+----------+--------+  </span></span><br><span class="line">|  1001 | 甘宁   | 文员   | 1013 | 2000-12-17 |  8000.00 |     NULL |     20 |      </span><br><span class="line">|  1002 | 黛绮丝 | 销售员 | 1006 | 2001-02-20 | 16000.00 |  3000.00 |     30 |        </span><br><span class="line">|  1003 | 殷天正 | 销售员 | 1006 | 2001-02-22 | 12500.00 |  5000.00 |     30 |        </span><br><span class="line">|  1004 | 刘备   | 经理   | 1009 | 2001-04-02 | 29750.00 |     NULL |     20 |      </span><br><span class="line">|  1005 | 谢逊   | 销售员 | 1006 | 2001-09-28 | 12500.00 | 14000.00 |     30 |       </span><br><span class="line">+<span class="comment">-------+--------+--------+------+------------+----------+----------+--------+</span></span><br></pre></td></tr></table></figure>
<p>例如一页数据为10  查询第三页</p>
<p>select * from  limit 20 ,10</p>
<p>公式:  (查询页 - 1)  * 每页记录数</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/mysql/" rel="tag"># mysql</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/07/31/前端面试题库 7-31/" rel="next" title="前端面试题库 7-31">
                <i class="fa fa-chevron-left"></i> 前端面试题库 7-31
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/08/04/第一次使用mpvue的记录/" rel="prev" title="对第一次使用mpvue的一次记录">
                对第一次使用mpvue的一次记录 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC8zODM3MS8xNDg5OQ=="></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="http://on7r0tqgu.bkt.clouddn.com/FtYgVsDgctT0KkcTOIF8bmSJ5aPi.jpg"
                alt="vkcyan" />
            
              <p class="site-author-name" itemprop="name">vkcyan</p>
              <p class="site-description motion-element" itemprop="description">JavaScript node.js java docker 杂谈 记录</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">32</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">27</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/boold" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#DDL-–-Data-Definition-Language-数据库定义语言"><span class="nav-number">1.</span> <span class="nav-text">DDL – Data Definition Language 数据库定义语言</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#查询当前所有数据库"><span class="nav-number">1.0.0.1.</span> <span class="nav-text">查询当前所有数据库</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#进入-切换数据库"><span class="nav-number">1.0.0.2.</span> <span class="nav-text">进入/切换数据库</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#创建数据库"><span class="nav-number">1.0.0.3.</span> <span class="nav-text">创建数据库</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#删除数据库"><span class="nav-number">1.0.0.4.</span> <span class="nav-text">删除数据库</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mysql数据库表的数据类型"><span class="nav-number">1.1.</span> <span class="nav-text">mysql数据库表的数据类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#表的使用命令"><span class="nav-number">1.2.</span> <span class="nav-text">表的使用命令</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#查看当前数据库的表"><span class="nav-number">1.2.0.1.</span> <span class="nav-text">查看当前数据库的表</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#创建表"><span class="nav-number">1.2.0.2.</span> <span class="nav-text">创建表</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#查看表的建表语句"><span class="nav-number">1.2.0.3.</span> <span class="nav-text">查看表的建表语句</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#查询表结构"><span class="nav-number">1.2.0.4.</span> <span class="nav-text">查询表结构</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#删除表"><span class="nav-number">1.2.0.5.</span> <span class="nav-text">删除表</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#修改表"><span class="nav-number">1.3.</span> <span class="nav-text">修改表</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#修改-–-给现有的表添加一列-字段"><span class="nav-number">1.3.0.1.</span> <span class="nav-text">修改 – 给现有的表添加一列(字段)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#修改-–-给现有的表修改列-字段-类型"><span class="nav-number">1.3.0.2.</span> <span class="nav-text">修改 – 给现有的表修改列(字段)类型</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#修改-–-删除指定的列-字段"><span class="nav-number">1.3.0.3.</span> <span class="nav-text">修改 – 删除指定的列(字段)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#修改-–-修改表名称"><span class="nav-number">1.3.0.4.</span> <span class="nav-text">修改 – 修改表名称</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#修改-–-数据库编码"><span class="nav-number">1.3.0.5.</span> <span class="nav-text">修改 – 数据库编码</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DML-–-Data-Manipulation-Language-数据操纵语言"><span class="nav-number">2.</span> <span class="nav-text">DML – Data Manipulation Language 数据操纵语言</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#插入数据"><span class="nav-number">2.0.0.1.</span> <span class="nav-text">插入数据</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#修改数据"><span class="nav-number">2.0.0.2.</span> <span class="nav-text">修改数据</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#删除数据"><span class="nav-number">2.0.0.3.</span> <span class="nav-text">删除数据</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DCL-–-Data-Control-Language-数据库控制语言"><span class="nav-number">3.</span> <span class="nav-text">DCL – Data Control Language 数据库控制语言</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#创建用户"><span class="nav-number">3.0.0.1.</span> <span class="nav-text">创建用户</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#用户授权"><span class="nav-number">3.0.0.2.</span> <span class="nav-text">用户授权</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#取消授权"><span class="nav-number">3.0.0.3.</span> <span class="nav-text">取消授权</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#查看用户权限"><span class="nav-number">3.0.0.4.</span> <span class="nav-text">查看用户权限</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#删除用户"><span class="nav-number">3.0.0.5.</span> <span class="nav-text">删除用户</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DQL-–-Data-Query-Language-数据查询语言DQL"><span class="nav-number">4.</span> <span class="nav-text">DQL –  Data Query Language 数据查询语言DQL</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#查询数据"><span class="nav-number">4.0.0.1.</span> <span class="nav-text">查询数据</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#列运算-数字"><span class="nav-number">4.0.0.2.</span> <span class="nav-text">列运算 - 数字</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#列运算-文字"><span class="nav-number">4.0.0.3.</span> <span class="nav-text">列运算 - 文字</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#条件查询"><span class="nav-number">4.0.0.4.</span> <span class="nav-text">条件查询</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#排序"><span class="nav-number">4.0.0.5.</span> <span class="nav-text">排序</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#聚合函数"><span class="nav-number">4.0.0.6.</span> <span class="nav-text">聚合函数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#分组查询"><span class="nav-number">4.0.0.7.</span> <span class="nav-text">分组查询</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#limit子句-方言"><span class="nav-number">4.0.0.8.</span> <span class="nav-text">limit子句(方言)</span></a></li></ol></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">vkcyan</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  












  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("5MdDFcYptJqTmprRBrxskr6y-gzGzoHsz", "iruhNcbrugNxR3rNmmgPRad5");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  

  

  

</body>
</html>
